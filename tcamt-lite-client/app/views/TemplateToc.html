<div ui-tree>
    <ol ui-tree-nodes="" ng-model="templatesToc">
        <li ng-repeat="template in templatesToc" ui-tree-node data-nodrag>
            <div ui-tree-handle ng-click="Activate(this); OpenTemplateMetadata(template)" ng-class="{selected : this.$modelValue===activeModel}">
                {{template.name}}
            </div>
            <div ui-tree-handle>                       
                     <i data-nodrag ng-click="switchermsg(messagetempCollapsed)" class="fa" ng-class="{'fa-caret-right': messagetempCollapsed, 'fa-caret-down': !messagetempCollapsed}">
					</i>       
                Messages Template
                <span ng-show="selectedIntegrationProfile">for {{selectedIntegrationProfile.sectionTitle}}-{{selectedConformanceProfile.name}}</span>
            </div>
            <ol ui-tree-nodes="" ng-model="template.messageTemplates" ng-if="!messagetempCollapsed">
                <li ng-repeat="msgTmp in template.messageTemplates" ui-tree-node>
                    <div ui-tree-handle ng-click="Activate(this);OpenMsgTemplateMetadata(msgTmp)" ng-class="{'selected' : this.$modelValue===activeModel,'unsaved':changesMap[msgTmp.id]}">
                        <span class="MenuEnabled" ng-if="messageTemplateApplicable(msgTmp)" context-menu="MessageOptions"><span class="label label-success label-icon">MT</span>{{msgTmp.name}}</span>
                        <span class="MenuDisabled" ng-if="!messageTemplateApplicable(msgTmp)" ><span class="label label-success label-icon">MT</span>{{msgTmp.name}}</span>
                    </div>
                </li>
            </ol>
            <div ui-tree-handle>
                    <i data-nodrag ng-click="switcherseg(segmenttempCollapsed)" class="fa" ng-class="{'fa-caret-right': segmenttempCollapsed, 'fa-caret-down': !segmenttempCollapsed}">
					</i>   
				Segment Templates
                <span ng-show="selectedSegmentNode">for {{selectedSegmentNode.segment.obj.name}}</span>
            </div>
            <ol ui-tree-nodes="" ng-model="template.segmentTemplates" ng-if="!segmenttempCollapsed">
                <li ng-repeat="segTmp in template.segmentTemplates" ui-tree-node ng-if="selectedSegmentNode===null ||selectedSegmentNode.segment.obj.name===segTmp.segmentName">
                    <div ui-tree-handle ng-click="Activate(this);OpenSegmentTemplateMetadata(segTmp)" ng-class="{selected : this.$modelValue===activeModel,'unsaved':changesMap[segTmp.id]}">
                        <span class="MenuEnabled" ng-if="segmentTemplateApplicable(segTmp)" context-menu="SegmentOptions"><span class=" label label-success label-icon">ST</span>{{segTmp.name}}</span>
                        <span  class="MenuDisabled" ng-if="!segmentTemplateApplicable(segTmp)" ><span class=" label label-success label-icon">ST</span>{{segTmp.name}}</span>
                    </div>
                </li>
            </ol>
            <div ui-tree-handle>
                     <i data-nodrag ng-click="switcherEr7(Er7Collapsed)" class="fa" ng-class="{'fa-caret-right': Er7Collapsed, 'fa-caret-down': !Er7Collapsed}">
					</i>   Er7 Templates
                <span ng-show="selectedIntegrationProfile">for {{selectedIntegrationProfile.sectionTitle}}-{{selectedConformanceProfile.name}}/span>
            </div>
            <ol ui-tree-nodes="" ng-model="template.er7Templates" ng-if="!Er7Collapsed">
                <li ng-repeat="er7Tmp in template.er7Templates" ui-tree-node>
                    <div ui-tree-handle ng-click="Activate(this);OpenEr7TemplatesMetadata(er7Tmp)" ng-class="{'selected' : this.$modelValue===activeModel,'unsaved':changesMap[er7Tmp.id]}">
                        <span  ng-if="messageTemplateApplicable(er7Tmp)" class="MenuEnabled"  context-menu="Er7Options" ng-if="selectedTestStep"><span class="label label-success label-icon">ET</span>{{er7Tmp.segmentName}}-{{er7Tmp.name}}</span>
                        <span  ng-if="!messageTemplateApplicable(er7Tmp)" class="MenuDisabled"><span class=" label label-success label-icon">ET</span>{{er7Tmp.segmentName}}-{{er7Tmp.name}}</span>
                    </div>
                </li>
            </ol>


            <div ui-tree-handle>
                     <i data-nodrag ng-click="switcherEr7(Er7Collapsed)" class="fa" ng-class="{'fa-caret-right': Er7Collapsed, 'fa-caret-down': !Er7Collapsed}">
					</i>   Segment Line Templates
            </div>
            <ol ui-tree-nodes="" ng-model="template.er7segmentTemplates" data-nodrag>
                <li ng-repeat="er7Tmp in template.er7segmentTemplates" ui-tree-node data-nodrag>
                    <div ui-tree-handle ng-click="Activate(this);OpenEr7SegmentTemplatesMetadata(er7Tmp)" ng-class="{'selected' : this.$modelValue===activeModel,'unsaved':changesMap[er7Tmp.id]}">
                        <span ng-if="segmentTemplateApplicable(er7Tmp)" class="MenuEnabled" context-menu="Er7SegmentOptions" ng-if="selectedTestStep"><span class="label label-success label-icon">SL</span> {{er7Tmp.segmentName}}-{{er7Tmp.name}}</span>
                        <span ng-if="!segmentTemplateApplicable(er7Tmp)" class="MenuDisabled"><span class=" label label-success label-icon">SL</span>{{er7Tmp.segmentName}}-{{er7Tmp.name}}</span>
                    </div>
                </li>
            </ol>
        </li>
    </ol>
</div>
<script type="text/ng-template" id="TemplateMetadata.html">
    <div class="page-header">
        <span class="header4">Template Metadata</span>
    </div>
    <form name="testplanMetaDataForm" class="form-horizontal" novalidate>
        <div class="row" style="margin-top:35px">
            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Name</label>
                        <input ng-model="rootTemplate.name" ng-change="recordChanged()" type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Description</label>
                        <input ng-model="rootTemplate.description" ng-change="recordChanged()" type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Date</label>
                        <input ng-model="rootTemplate.date" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>
        </div>
    </form>
</script>
<script type="text/ng-template" id="MessageTemplateMetadata.html">
    <div class="page-header">
        <span class="header4">Template Metadata</span>
    </div>
    <form name="testplanMetaDataForm" class="form-horizontal" novalidate>
        <div class="row" style="margin-top:35px">
            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Name</label>
                        <input ng-model="msgTemplate.name" ng-change="recordChanged(msgTemplate)" type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Description</label>
                        <input ng-model="msgTemplate.description" ng-change="recordChanged(msgTemplate)" type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Integration Profile</label>
                        <input ng-model="integrationProfileTitle" disabled type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Conformance Profile</label>
                        <input ng-model="conformanceProfileTitle" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Date</label>
                        <input ng-model="msgTemplate.date" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>
        </div>
    </form>

    <div class="page-header">
        <span class="header4">Categorizations</span>
    </div>

    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr class="tbl-header">
                    <th class="col-md-2">Path</th>
                    <th class="col-md-5">Test Data Categorization</th>
                    <th class="col-md-5">List Data</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="categorization in msgTemplate.categorizations">
                    <td class="col-md-2">
                        {{categorization.iPath}}
                    </td>
                    <td class="col-md-5">
                        {{categorization.testDataCategorization}}
                    </td>
                    <td class="col-md-5">
						<ul>
							<li ng-repeat="data in categorization.listData">
                        {{data}}
							</li>
						</ul>
               
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</script>
<script type="text/ng-template" id="Er7TemplateMetadata.html">
    <div class="page-header">
        <span class="header4">Template Metadata</span>
    </div>
    <form name="testplanMetaDataForm" class="form-horizontal" novalidate>
        <div class="row" style="margin-top:35px">
            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Name</label>
                        <input ng-model="er7Template.name" ng-change="recordChanged(er7Template)" type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Description</label>
                        <input ng-model="er7Template.description" ng-change="recordChanged(er7Template)" type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Integration Profile</label>
                        <input ng-model="integrationProfileTitle" disabled type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Conformance Profile</label>
                        <input ng-model="conformanceProfileTitle" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Date</label>
                        <input ng-model="er7Template.date" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>
        </div>
    </form>
    <div class="page-header">
        <span class="header4">Er7 Message</span>
    </div>

    <div class="col-md-12">
        <ui-codemirror disabled ui-codemirror-opts="editorOptions" ng-model="er7Template.er7Message"></ui-codemirror>
    </div>
</script>

<script type="text/ng-template" id="Er7SegmentTemplateMetadata.html">
    <div class="page-header">
        <span class="header4">Template Metadata</span>
    </div>
    <form name="testplanMetaDataForm" class="form-horizontal" novalidate>
        <div class="row" style="margin-top:35px">
            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Name</label>
                        <input ng-model="er7SegmentTemplate.name" ng-change="recordChanged(er7SegmentTemplate)" type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Description</label>
                        <input ng-model="er7SegmentTemplate.description" ng-change="recordChanged(er7SegmentTemplate)" type="text"/>
                    </md-input-container>
                </div>
            </div>

 

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Date</label>
                        <input ng-model="er7SegmentTemplate.date" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>
        </div>
    </form>


    <div class="col-md-12">
       <label>Segment Line</label>
       <md-input-container style="width: 100%;">
        <input style="width:100%" disabled ng-model="er7SegmentTemplate.content"></input>
        </md-input-container>

    </div>
</script>
<script type="text/ng-template" id="SegmentTemplateMetadata.html">
    <div class="page-header">
        <span class="header4">Template Metadata</span>
    </div>
    <form name="testplanMetaDataForm" class="form-horizontal" novalidate>
        <div class="row" style="margin-top:35px">
            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Name</label>
                        <input ng-model="segmentTemplateObject.name" ng-change="recordChanged(segmentTemplateObject)" type="text"/>
                    </md-input-container>
                </div>

                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Description</label>
                        <input ng-model="segmentTemplateObject.description" ng-change="recordChanged(segmentTemplateObject)" type="text"/>
                    </md-input-container>
                </div>
            </div>

            <div class="col-md-12">
                <div class="col-md-6">
                    <md-input-container style="width: 100%;">
                        <label>Date</label>
                        <input ng-model="segmentTemplateObject.date" disabled type="text"/>
                    </md-input-container>
                </div>
            </div>
        </div>
    </form>
    <div class="page-header">
        <span class="header4">Categorizations</span>
    </div>
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr class="tbl-header">
                    <th class="col-md-2">Path</th>
                    <th class="col-md-5">Test Data Categorization</th>
                    <th class="col-md-5">list Data</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="categorization in segmentTemplateObject.categorizations">
                    <td class="col-md-2">
                        {{segmentTemplateObject.segmentName}}{{categorization.iPath}}
                    </td>
                    <td class="col-md-5">
                        {{categorization.testDataCategorization}}
                    </td>
                    <td class="col-md-5">
						<ul>
							<li ng-repeat="data in categorization.listData">
                        {{data}}
							</li>
						</ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</script>
